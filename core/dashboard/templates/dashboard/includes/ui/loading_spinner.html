<!-- core\dashboard\templates\dashboard\includes\ui\loading_spinner.html - Yükleme animasyonu -->
 <!-- Loading Spinner Component -->
<div class="loading-spinner-container {{ container_class|default:'' }}" id="{{ spinner_id|default:'loadingSpinner' }}">
    <div class="loading-spinner {{ spinner_class|default:'spinner-border' }}" role="status">
        {% if spinner_type == 'dots' %}
            <div class="spinner-dots">
                <div class="dot1"></div>
                <div class="dot2"></div>
                <div class="dot3"></div>
            </div>
        {% elif spinner_type == 'pulse' %}
            <div class="spinner-pulse">
                <div class="pulse-circle"></div>
            </div>
        {% elif spinner_type == 'bars' %}
            <div class="spinner-bars">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
                <div class="bar4"></div>
            </div>
        {% else %}
            <!-- Bootstrap default spinner -->
            <span class="visually-hidden">{{ loading_text|default:"Yükleniyor..." }}</span>
        {% endif %}
    </div>
    
    {% if show_text %}
    <div class="loading-text">
        <span>{{ loading_text|default:"Yükleniyor..." }}</span>
        {% if show_dots %}
        <span class="loading-dots">
            <span>.</span><span>.</span><span>.</span>
        </span>
        {% endif %}
    </div>
    {% endif %}
</div>

<style>
.loading-spinner-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    min-height: 100px;
}

.loading-spinner-container.fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(255, 255, 255, 0.9);
    z-index: 9999;
    min-height: 100vh;
}

.loading-spinner-container.overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.8);
    z-index: 100;
}

.loading-spinner-container.inline {
    min-height: 60px;
    padding: 1rem;
}

/* Custom Spinner Types */
.spinner-dots {
    display: flex;
    gap: 0.25rem;
}

.spinner-dots div {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--primary-color);
    animation: dotBounce 1.4s ease-in-out infinite both;
}

.spinner-dots .dot2 {
    animation-delay: -0.16s;
}

.spinner-dots .dot3 {
    animation-delay: -0.32s;
}

@keyframes dotBounce {
    0%, 80%, 100% {
        transform: scale(0);
    }
    40% {
        transform: scale(1);
    }
}

.spinner-pulse .pulse-circle {
    width: 40px;
    height: 40px;
    border: 2px solid var(--primary-color);
    border-radius: 50%;
    animation: pulse 1s ease-in-out infinite;
}

@keyframes pulse {
    0% {
        transform: scale(0);
        opacity: 1;
    }
    100% {
        transform: scale(1);
        opacity: 0;
    }
}

.spinner-bars {
    display: flex;
    gap: 0.25rem;
    align-items: end;
}

.spinner-bars div {
    width: 4px;
    background: var(--primary-color);
    animation: barStretch 1.2s ease-in-out infinite;
}

.spinner-bars .bar1 {
    height: 20px;
    animation-delay: -1.1s;
}

.spinner-bars .bar2 {
    height: 30px;
    animation-delay: -1.0s;
}

.spinner-bars .bar3 {
    height: 20px;
    animation-delay: -0.9s;
}

.spinner-bars .bar4 {
    height: 30px;
    animation-delay: -0.8s;
}

@keyframes barStretch {
    0%, 40%, 100% {
        transform: scaleY(0.4);
    }
    20% {
        transform: scaleY(1.0);
    }
}

.loading-text {
    text-align: center;
    color: var(--text-muted);
    font-size: 0.9rem;
    font-weight: 500;
}

.loading-dots span {
    animation: dotFade 1.5s ease-in-out infinite;
}

.loading-dots span:nth-child(1) {
    animation-delay: 0s;
}

.loading-dots span:nth-child(2) {
    animation-delay: 0.2s;
}

.loading-dots span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes dotFade {
    0%, 80%, 100% {
        opacity: 0;
    }
    40% {
        opacity: 1;
    }
}

/* Responsive */
@media (max-width: 767.98px) {
    .loading-spinner-container {
        min-height: 80px;
        gap: 0.75rem;
    }
    
    .loading-text {
        font-size: 0.8rem;
    }
    
    .spinner-pulse .pulse-circle {
        width: 30px;
        height: 30px;
    }
}
</style>

<script>
// Loading Spinner Utility Functions
class LoadingSpinner {
    constructor(containerId = 'loadingSpinner') {
        this.container = document.getElementById(containerId);
    }
    
    show(text = null) {
        if (this.container) {
            this.container.style.display = 'flex';
            if (text) {
                const textElement = this.container.querySelector('.loading-text span');
                if (textElement) {
                    textElement.textContent = text;
                }
            }
        }
    }
    
    hide() {
        if (this.container) {
            this.container.style.display = 'none';
        }
    }
    
    static create(options = {}) {
        const {
            type = 'default',
            text = 'Yükleniyor...',
            showText = true,
            className = '',
            parent = document.body
        } = options;
        
        const container = document.createElement('div');
        container.className = `loading-spinner-container ${className}`;
        container.innerHTML = `
            <div class="loading-spinner spinner-border" role="status">
                <span class="visually-hidden">${text}</span>
            </div>
            ${showText ? `<div class="loading-text"><span>${text}</span></div>` : ''}
        `;
        
        parent.appendChild(container);
        return new LoadingSpinner(container.id);
    }
    
    static showFullscreen(text = 'Yükleniyor...') {
        const existingLoader = document.getElementById('fullscreenLoader');
        if (existingLoader) {
            existingLoader.remove();
        }
        
        const loader = document.createElement('div');
        loader.id = 'fullscreenLoader';
        loader.className = 'loading-spinner-container fullscreen';
        loader.innerHTML = `
            <div class="loading-spinner spinner-border text-primary" role="status">
                <span class="visually-hidden">${text}</span>
            </div>
            <div class="loading-text">
                <span>${text}</span>
                <span class="loading-dots">
                    <span>.</span><span>.</span><span>.</span>
                </span>
            </div>
        `;
        
        document.body.appendChild(loader);
        return loader;
    }
    
    static hideFullscreen() {
        const loader = document.getElementById('fullscreenLoader');
        if (loader) {
            loader.remove();
        }
    }
}

// Global functions for easy use
function showLoading(text = 'Yükleniyor...') {
    return LoadingSpinner.showFullscreen(text);
}

function hideLoading() {
    LoadingSpinner.hideFullscreen();
}

// Auto-hide loading on page load
document.addEventListener('DOMContentLoaded', function() {
    // Hide any loading spinners that might be showing
    const loadingContainers = document.querySelectorAll('.loading-spinner-container');
    loadingContainers.forEach(container => {
        if (container.id !== 'fullscreenLoader') {
            container.style.display = 'none';
        }
    });
});
</script>